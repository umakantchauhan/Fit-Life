<%- include ("./header.ejs") %>

<div class="container">
  <h1 class="text-center mt-5">Calorie Calculator</h1>
  <p class="text-center">Calculate your daily calorie needed.</p>

  
    <div class="bg-image">
      <div class="bg-overlay">
      <form action="/calculate" method="POST" class="mt-4 p-4 shadow rounded bg-light">
        
        <div class="form-group mb-3">
            <label for="gender">Gender</label>
            <select class="form-control" id="gender" name="gender" required>
                <option value="" disabled selected>Select Gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
             </select>
        </div>


        <div class="form-group mb-3">
          <label for="age">Age (years)</label>
          <input type="number" class="form-control" id="age" name="age" placeholder="Enter your age" required>
        </div>

        <div class="form-group mb-3">
          <label for="weight">Weight (kg)</label>
          <input type="number" class="form-control" id="weight" name="weight" placeholder="Enter your weight" required>
        </div>

        <div class="form-group mb-3">
          <label for="height">Height (cm)</label>
          <input type="number" class="form-control" id="height" name="height" placeholder="Enter your height" required>
        </div>

        <div class="form-group mb-3">
          <label for="activity">Activity Level</label>
          <select class="form-control" id="activity" name="activity" required>
            <option value="" disabled selected>Select activity level</option>
            <option value="1.2">Sedentary (little or no exercise)</option>
            <option value="1.375">Lightly active (light exercise 1-3 days/week)</option>
            <option value="1.55">Moderately active (moderate exercise 3-5 days/week)</option>
            <option value="1.725">Very active (hard exercise 6-7 days/week)</option>
            <option value="1.9">Super active (very hard exercise or a physical job)</option>
          </select>
        </div>

        <div class="form-group mb-3">
            <label for="goal">Your Goal</label>
            <select class="form-control" id="goal" name="goal" required>
              <option value="" disabled selected>Select Your Goal</option>
              <option value="maintain">Maintain Weight</option>
              <option value="bulk">Bulk (Gain Muscle)</option>
              <option value="cut">Cut (Lose Fat)</option>
            </select>
        </div>

        <button type="submit" class="btn btn-dark btn-block">Calculate</button>
      </form>
      
      
    </div>
  </div>

  <% if (typeof calories !== 'undefined' && calories !== null) { %>
    <div class="alert alert-success text-center">
      Your calculated calorie intake is <%= calories %> kcal per day.
    </div>
    <div class="alert alert-info text-center">
      Based on your goal, here's a personalized diet plan: 
      <strong><%= dietPlan %></strong>
    </div>
  <% } %>  

  <hr>

  <h1 class="text-center mb-4">Macro Calculator</h1>
  <p class="text-center">Calculate your daily carbs , protien , fats needed.</p>
  <div class="bg-image">
    <div class="bg-overlay">
    <form action="/macroCalculate" method="POST">
      <div class="row mb-3">
        <div class="col-md-6">
          <label for="dailyCalories" class="form-label">Daily Calorie Intake</label>
          <input type="number" class="form-control" id="dailyCalories" name="dailyCalories" placeholder="Enter your daily calorie needs" required>
        </div>
        <div class="col-md-6">
          <label for="mealsPerDay" class="form-label">Number of Meals Per Day</label>
          <input type="number" class="form-control" id="mealsPerDay" name="mealsPerDay" placeholder="Enter number of meals" required>
        </div>
      <button type="submit" class="btn btn-dark" style="width:100px; margin-top: 20px; ">Calculate</button>
    </div>
    </form>
    </div>
    </div>

    <% if (typeof dailyCarbs !== 'undefined' && dailyCarbs !== null) { %>
    <div id="results" class="result-box">
      <h3>Daily Macronutrient Breakdown</h3>
      <p><strong>Carbs:</strong> <%= dailyCarbs %> grams</p>
      <p><strong>Protein:</strong> <%= dailyProtein %> grams</p>
      <p><strong>Fats:</strong> <%= dailyFats %> grams</p>
      
      <h3>Per Meal Breakdown</h3>
      <p><strong>Carbs:</strong> <%= mealCarbs %> grams</p>
      <p><strong>Protein:</strong> <%= mealProtein %> grams</p>
      <p><strong>Fats:</strong> <%= mealFats %> grams</p>
    </div>
    <% } %>

  </div>
</div>

<%- include ("./footer.ejs") %>
